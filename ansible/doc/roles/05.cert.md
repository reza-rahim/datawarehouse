
# ðŸ“œ Certificate Management - Ansible Tasks Summary


This document provides a summarized explanation of the Ansible tasks used to manage SSL/TLS certificates, directories, and truststore configurations for applications and Java environments.
---

## [How to create self-signed cert](/ansible/doc/cert/README.md)

---

## 1. Create Certificate Directory

```yaml
- name: create {{ cert_dir }} dir
```
Creates a directory for storing general certificates. Sets group ownership based on the application group.

---

## 2. Copy Application Certificate Files

```yaml
- name: copy cert files
```
Copies the server certificate, private key, and cert key to the previously created directory. Permissions and group ownership are set accordingly.

---

## 3. Create MinIO Certificate Directory

```yaml
- name: Create {{ cert_dir }} directory
```
Creates a secure directory for MinIO certificate storage with specific user and group ownership and limited permissions.

---

## 4. Copy MinIO Certificate Files

```yaml
- name: copy cert files for minio
```
Places MinIO's public certificate and private key into its configured certificate directory with restricted access.

---

## 5. Copy CA Certificate to System Trust Store

```yaml
- name: copy {{ ca_cert_file_name }} to /usr/local/share/ca-certificates/
```
Places the CA certificate into the system's local CA directory for trust store inclusion.

---

## 6. Update System CA Certificates

```yaml
- name: run /usr/sbin/update-ca-certificates
```
Executes the system command to refresh and update the trusted CA certificates based on the current contents of the CA directory.

---

## 7. Import CA Certificate into Java 17 Truststore

```yaml
- name: Add the {{ ca_cert_file_name }} to Java 17 truststore if not present as rootCA
```
Uses the `keytool` utility to import the root CA certificate into the Java 17 truststore, enabling Java applications to trust services signed by this CA.

---

## 8. Import CA Certificate into Java 24 Truststore

```yaml
- name: Import rootCA to Java 24 truststore
```
Repeats the truststore import process for Java 24, ensuring compatibility across Java versions.

